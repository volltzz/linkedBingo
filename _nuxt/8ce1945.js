(window.webpackJsonp=window.webpackJsonp||[]).push([[27,23,29],{435:function(t,e,r){var content=r(456);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(37).default)("4acd41e3",content,!0,{sourceMap:!1})},436:function(t,e,r){var content=r(458);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(37).default)("092b5cfa",content,!0,{sourceMap:!1})},454:function(t,e,r){var content=r(477);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(37).default)("31e4774c",content,!0,{sourceMap:!1})},455:function(t,e,r){"use strict";r(435)},456:function(t,e,r){var n=r(36)(!1);n.push([t.i,".el-table .warning-row{background:#fdf5e6}.el-table .success-row{background:#f0f9eb}.el-table .danger-row{background:#fde2e2}.paginacao{margin-top:15px;margin-bottom:15px;text-align:center}",""]),t.exports=n},457:function(t,e,r){"use strict";r(436)},458:function(t,e,r){var n=r(36)(!1);n.push([t.i,"[type=button][data-v-416079b5],[type=reset][data-v-416079b5],[type=submit][data-v-416079b5],button[data-v-416079b5]{width:100%;margin:1rem 0}.padding[data-v-416079b5]{padding:1rem}",""]),t.exports=n},466:function(t,e,r){"use strict";r.r(e);var n=r(25),o=r(8),l=(r(56),r(57),Object(n.a)({computed:{$allTickets:function(){return this.$store.getters.$allTickets},pagedTableData:function(){return this.tableData.slice(this.pageSize*this.page-this.pageSize,this.pageSize*this.page)}},methods:{tableRowClassName:function(t){var e=t.row;t.rowIndex;return 0===e.state?"success-row":4===e.state?"danger-row":""},approveTicket:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.loadingButton=!0,r.next=3,e.$axios.$post("/ticket/validate_tickets",{validate_tickets:[t],invalidate_tickets:null,draw_id:e.$route.params.id}).then((function(){window.location.reload(),e.successText()})).catch((function(){e.errorText()}));case 3:e.loadingButton=!1;case 4:case"end":return r.stop()}}),r)})))()},invalidateTicket:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.loadingButton=!0,r.next=3,e.$axios.$post("/ticket/validate_tickets",{validate_tickets:null,invalidate_tickets:[t],draw_id:e.$route.params.id}).then((function(){window.location.reload(),e.successText()})).catch((function(){e.errorText()}));case 3:e.loadingButton=!1;case 4:case"end":return r.stop()}}),r)})))()},successText:function(){this.$notify({title:"Sucesso",message:"Alterado com sucesso",type:"success"})},errorText:function(){this.$notify.error({title:"Error"})},setPage:function(t){this.page=t}},data:function(){return{tableData:this.$store.getters.$allTickets,search:"",page:1,pageSize:10,loadingButton:!1}}},"computed",{$allTickets:function(){return this.$store.getters.$allTickets},pagedTableData:function(){return this.tableData.slice(this.pageSize*this.page-this.pageSize,this.pageSize*this.page)}})),c=(r(455),r(19)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingButton,expression:"loadingButton"}],staticStyle:{width:"100%","border-radius":"1rem"},attrs:{data:t.pagedTableData.filter((function(data){return!t.search||data.ticketId==t.search})),"default-sort":{prop:"ticketId",order:"ascend"},"row-class-name":t.tableRowClassName}},[r("el-table-column",{attrs:{label:"ticket",prop:"ticketId",sortable:""}}),t._v(" "),r("el-table-column",{attrs:{label:"seller",prop:"seller_id",sortable:""}}),t._v(" "),r("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[r("el-input",{attrs:{size:"mini",placeholder:"Type to search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return t.approveTicket(e.row.ticketId)}}},[t._v("Approve")])],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.invalidateTicket(e.row.ticketId)}}},[t._v("Invalidate")])],1)],1)]}}])})],1),t._v(" "),r("div",{staticClass:"paginacao"},[r("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:this.tableData.length},on:{"current-change":t.setPage}})],1)],1)}),[],!1,null,null,null);e.default=component.exports},467:function(t,e,r){"use strict";r.r(e);var n=r(8),o=(r(56),r(47),r(14),r(58),{data:function(){return{lowerInterval:"",BigInterval:"",loadingButton:!1}},methods:{getIntervalId:function(t,e){var r=t<e?t:e,n=t>e?t:e;return this.$store.getters.$allTickets.filter((function(t){var e=t.ticketId;return e>=r&&e<=n})).map((function(t){return t.ticketId}))},approveTicket:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.loadingButton=!0,o=r.getIntervalId(t,e),n.next=4,r.$axios.$post("/ticket/validate_tickets",{validate_tickets:o,invalidate_tickets:null,draw_id:r.$route.params.id}).then((function(){window.location.reload(),r.successText()})).catch((function(){r.errorText()}));case 4:r.loadingButton=!1;case 5:case"end":return n.stop()}}),n)})))()},invalidateTicket:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.loadingButton=!0,o=r.getIntervalId(t,e),n.next=4,r.$axios.$post("/ticket/validate_tickets",{validate_tickets:null,invalidate_tickets:o,draw_id:r.$route.params.id}).then((function(){window.location.reload(),r.successText()})).catch((function(){r.errorText()}));case 4:r.loadingButton=!1;case 5:case"end":return n.stop()}}),n)})))()},successText:function(){this.$notify({title:"Sucesso",message:"Alterado com sucesso",type:"success"})},errorText:function(){this.$notify.error({title:"Error"})}}}),l=(r(457),r(19)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-form",{staticClass:"box-shadow form",staticStyle:{"border-radius":"1rem"},attrs:{"label-position":"top","label-width":"100px"},nativeOn:{submit:function(t){t.preventDefault()}}},[r("div",{staticStyle:{padding:"1rem"}},[r("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"Start interval",required:""}},[r("el-input-number",{attrs:{min:0,required:""},model:{value:t.lowerInterval,callback:function(e){t.lowerInterval=e},expression:"lowerInterval"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"End interval",required:""}},[r("el-input-number",{attrs:{min:0,required:""},model:{value:t.BigInterval,callback:function(e){t.BigInterval=e},expression:"BigInterval"}})],1)],1)],1),t._v(" "),r("el-row",{staticClass:"padding",attrs:{gutter:20}},[r("el-col",{attrs:{md:24}},[r("el-button",{attrs:{loading:t.loadingButton,type:"success"},on:{click:function(e){return t.approveTicket(t.lowerInterval,t.BigInterval)}}},[t._v("Validate")])],1),t._v(" "),r("el-col",{attrs:{md:24}},[r("el-button",{attrs:{loading:t.loadingButton,type:"danger"},on:{click:function(e){return t.invalidateTicket(t.lowerInterval,t.BigInterval)}}},[t._v("Cancel Tickets")])],1)],1)],1)])],1)}),[],!1,null,"416079b5",null);e.default=component.exports},476:function(t,e,r){"use strict";r(454)},477:function(t,e,r){var n=r(36)(!1);n.push([t.i,".validation[data-v-40d54256]{display:grid;grid-template-columns:2fr 1fr;grid-gap:1rem}",""]),t.exports=n},493:function(t,e,r){"use strict";r.r(e);var n={},o=(r(476),r(19)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"validation"},[r("SearchTicket"),t._v(" "),r("ValidationButtons")],1)}),[],!1,null,"40d54256",null);e.default=component.exports;installComponents(component,{SearchTicket:r(466).default,ValidationButtons:r(467).default})}}]);