(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{435:function(t,e,n){var content=n(456);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(37).default)("4acd41e3",content,!0,{sourceMap:!1})},455:function(t,e,n){"use strict";n(435)},456:function(t,e,n){var r=n(36)(!1);r.push([t.i,".el-table .warning-row{background:#fdf5e6}.el-table .success-row{background:#f0f9eb}.el-table .danger-row{background:#fde2e2}.paginacao{margin-top:15px;margin-bottom:15px;text-align:center}",""]),t.exports=r},466:function(t,e,n){"use strict";n.r(e);var r=n(25),o=n(8),c=(n(56),n(57),Object(r.a)({computed:{$allTickets:function(){return this.$store.getters.$allTickets},pagedTableData:function(){return this.tableData.slice(this.pageSize*this.page-this.pageSize,this.pageSize*this.page)}},methods:{tableRowClassName:function(t){var e=t.row;t.rowIndex;return 0===e.state?"success-row":4===e.state?"danger-row":""},approveTicket:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loadingButton=!0,n.next=3,e.$axios.$post("/ticket/validate_tickets",{validate_tickets:[t],invalidate_tickets:null,draw_id:e.$route.params.id}).then((function(){window.location.reload(),e.successText()})).catch((function(){e.errorText()}));case 3:e.loadingButton=!1;case 4:case"end":return n.stop()}}),n)})))()},invalidateTicket:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loadingButton=!0,n.next=3,e.$axios.$post("/ticket/validate_tickets",{validate_tickets:null,invalidate_tickets:[t],draw_id:e.$route.params.id}).then((function(){window.location.reload(),e.successText()})).catch((function(){e.errorText()}));case 3:e.loadingButton=!1;case 4:case"end":return n.stop()}}),n)})))()},successText:function(){this.$notify({title:"Sucesso",message:"Alterado com sucesso",type:"success"})},errorText:function(){this.$notify.error({title:"Error"})},setPage:function(t){this.page=t}},data:function(){return{tableData:this.$store.getters.$allTickets,search:"",page:1,pageSize:10,loadingButton:!1}}},"computed",{$allTickets:function(){return this.$store.getters.$allTickets},pagedTableData:function(){return this.tableData.slice(this.pageSize*this.page-this.pageSize,this.pageSize*this.page)}})),l=(n(455),n(19)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingButton,expression:"loadingButton"}],staticStyle:{width:"100%","border-radius":"1rem"},attrs:{data:t.pagedTableData.filter((function(data){return!t.search||data.ticketId==t.search})),"default-sort":{prop:"ticketId",order:"ascend"},"row-class-name":t.tableRowClassName}},[n("el-table-column",{attrs:{label:"ticket",prop:"ticketId",sortable:""}}),t._v(" "),n("el-table-column",{attrs:{label:"seller",prop:"seller_id",sortable:""}}),t._v(" "),n("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-input",{attrs:{size:"mini",placeholder:"Type to search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:12}},[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.approveTicket(e.row.ticketId)}}},[t._v("Approve")])],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.invalidateTicket(e.row.ticketId)}}},[t._v("Invalidate")])],1)],1)]}}])})],1),t._v(" "),n("div",{staticClass:"paginacao"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:this.tableData.length},on:{"current-change":t.setPage}})],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);