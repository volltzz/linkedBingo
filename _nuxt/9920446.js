(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{436:function(t,e,r){var content=r(458);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(37).default)("092b5cfa",content,!0,{sourceMap:!1})},457:function(t,e,r){"use strict";r(436)},458:function(t,e,r){var n=r(36)(!1);n.push([t.i,"[type=button][data-v-416079b5],[type=reset][data-v-416079b5],[type=submit][data-v-416079b5],button[data-v-416079b5]{width:100%;margin:1rem 0}.padding[data-v-416079b5]{padding:1rem}",""]),t.exports=n},467:function(t,e,r){"use strict";r.r(e);var n=r(8),o=(r(56),r(47),r(14),r(58),{data:function(){return{lowerInterval:"",BigInterval:"",loadingButton:!1}},methods:{getIntervalId:function(t,e){var r=t<e?t:e,n=t>e?t:e;return this.$store.getters.$allTickets.filter((function(t){var e=t.ticketId;return e>=r&&e<=n})).map((function(t){return t.ticketId}))},approveTicket:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.loadingButton=!0,o=r.getIntervalId(t,e),n.next=4,r.$axios.$post("/ticket/validate_tickets",{validate_tickets:o,invalidate_tickets:null,draw_id:r.$route.params.id}).then((function(){window.location.reload(),r.successText()})).catch((function(){r.errorText()}));case 4:r.loadingButton=!1;case 5:case"end":return n.stop()}}),n)})))()},invalidateTicket:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.loadingButton=!0,o=r.getIntervalId(t,e),n.next=4,r.$axios.$post("/ticket/validate_tickets",{validate_tickets:null,invalidate_tickets:o,draw_id:r.$route.params.id}).then((function(){window.location.reload(),r.successText()})).catch((function(){r.errorText()}));case 4:r.loadingButton=!1;case 5:case"end":return n.stop()}}),n)})))()},successText:function(){this.$notify({title:"Sucesso",message:"Alterado com sucesso",type:"success"})},errorText:function(){this.$notify.error({title:"Error"})}}}),l=(r(457),r(19)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-form",{staticClass:"box-shadow form",staticStyle:{"border-radius":"1rem"},attrs:{"label-position":"top","label-width":"100px"},nativeOn:{submit:function(t){t.preventDefault()}}},[r("div",{staticStyle:{padding:"1rem"}},[r("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"Start interval",required:""}},[r("el-input-number",{attrs:{min:0,required:""},model:{value:t.lowerInterval,callback:function(e){t.lowerInterval=e},expression:"lowerInterval"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"End interval",required:""}},[r("el-input-number",{attrs:{min:0,required:""},model:{value:t.BigInterval,callback:function(e){t.BigInterval=e},expression:"BigInterval"}})],1)],1)],1),t._v(" "),r("el-row",{staticClass:"padding",attrs:{gutter:20}},[r("el-col",{attrs:{md:24}},[r("el-button",{attrs:{loading:t.loadingButton,type:"success"},on:{click:function(e){return t.approveTicket(t.lowerInterval,t.BigInterval)}}},[t._v("Validate")])],1),t._v(" "),r("el-col",{attrs:{md:24}},[r("el-button",{attrs:{loading:t.loadingButton,type:"danger"},on:{click:function(e){return t.invalidateTicket(t.lowerInterval,t.BigInterval)}}},[t._v("Cancel Tickets")])],1)],1)],1)])],1)}),[],!1,null,"416079b5",null);e.default=component.exports}}]);